<!DOCTYPE html><html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>Managing Node.js Versions Without External Tools | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"><link href="/style/style.css" rel="stylesheet" type="text/css"><link href="/style/github.css" rel="stylesheet" type="text/css"><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script><meta property="og:title" content="Managing Node.js Versions Without External Tools"><meta property="og:url" content="http://www.thecodebarbarian.com/managing-node.js-versions-without-external-tools"><meta property="og:image" content="http://i.imgur.com/gGKNuu9.png"><meta property="og:site_name" content="The Code Barbarian"><meta property="description" content="I find the existence of tools like [nvm](https://github.com/creationix/nvm/blob/master/README.markdown) baffling. I could understand if setting up Node.js required an actual installer or compiler or python, but [node has pre-built binaries for most operating systems](http://nodejs.org/download). Node and npm are both portable standalone executables, so all you need is the right binary for your OS in the right place on your file system. Especially if you're switching back and forth between Node 6.x and 7.6.0 for [async/await](http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js.html), you should simplify your node version management workflow rather than using yet another bloated tool."><meta name="twitter:image" content="http://i.imgur.com/gGKNuu9.png"></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div class="navbar" id="nav"><div class="container"><div class="navbar-header"><a class="navbar-brand big-brand" href="http://thecodebarbarian.com"><img class="logo" src="/images/Barbarian_Head.png"><span class="site-name">The Code Barbarian</span></a></div><div class="navbar-right collapse navbar-collapse" id="home-nav-mobile"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li><a href="/tag/vue.html">Vue</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"><div class="col-lg-3 col-lg-offset-9 right-bar" id="desktop-right-bar"><div class="right-bar-content-slider pull-right"><div class="row recent-posts right-bar-group"><div class="col-lg-12 articles"><p class="right-bar-label">Most Popular Articles</p><ul class="list-unstyled"><li class="right-bar-li"><a href="/common-async-await-design-patterns-in-node.js.html">Common Async/Await Design Patterns in Node.js</a></li><li class="right-bar-li"><a href="/unhandled-promise-rejections-in-node.js.html">Unhandled Promise Rejections in Node.js</a></li><li class="right-bar-li"><a href="/using-async-await-with-mocha-express-and-mongoose">Using Async/Await with Mocha, Express, and Mongoose</a></li><li class="right-bar-li"><a href="/write-your-own-node-js-promise-library-from-scratch.html">Write Your Own Node.js Promise Library from Scratch</a></li><li class="right-bar-li"><a href="/80-20-guide-to-express-error-handling">The 80/20 Guide to Express Error Handling</a></li></ul></div></div><div class="row recent-posts right-bar-group"><div class="col-lg-12 books"><p class="right-bar-label">Ebooks<div><a href="http://asyncawait.net/?utm_source=thecodebarbarian&amp;utm_campaign=sidebar"><img src="/images/verticalbanner.png"></a></div><div><a href="http://es2015generators.com"><img src="https://i.imgur.com/xvGNKlr.png"><p><i>The 80/20 Guide to ES2015 Generators</i></p></a></div></p></div></div></div></div></div><div class="container-fluid hidden-sm hidden-md hidden-lg" id="mobile-sharing-options"><div class="row"><div class="col-lg-12"><style>#home-nav-mobile {
  float: left !important;
  margin-left: 215px !important;
}
</style><div class="post-sharing-options"><div class="row"><div class="col-xs-3 twitter-share sharing-option"><a class="social" href="https://twitter.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}&amp;via=code_barbarian"><i class="fa fa-twitter"></i></a></div><div class="col-xs-3 facebook-share sharing-option"><a class="social" href="https://www.facebook.com/sharer/sharer.php?u=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-facebook"></i></a></div><div class="col-xs-3 google-share sharing-option"><a class="social" href="https://plus.google.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-google-plus"></i></a></div><div class="col-xs-3 comment sharing-option"><a class="social" href="#disqus_thread"><i class="fa fa-comment"></i></a></div></div></div></div></div></div><div class="post-sharing-options hidden-xs pull-left" id="desktop-sharing-options"><ul class="list-unstyled"><li class="twitter-share"><a class="social" href="https://twitter.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}&amp;via=code_barbarian"><i class="fa fa-twitter sharing-option"></i></a></li><li class="facebook-share"><a class="social" href="https://www.facebook.com/sharer/sharer.php?u=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-facebook sharing-option"></i></a></li><li class="google-share"><a class="social" href="https://plus.google.com/share?url=#{encodeURIComponent('http://www.thecodebarbarian.com/' + post.dest.directory.substr('./bin'.length) + '/' + post.dest.name)}"><i class="fa fa-google-plus sharing-option"></i></a></li></ul></div><div class="container"><div class="col-lg-9 post-text"><div class="row"><div class="title-byline-container"><h1 class="post-title">Managing Node.js Versions Without External Tools</h1><div class="credits"><span class="byline">by Valeri Karpov</span><span class="byhandle"><a href="http://www.twitter.com/code_barbarian">@code_barbarian</a></span><span class="bydate">March 24, 2017</span></div></div></div><script type="text/javascript" src="/js/native.js"></script><div><script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>

<div class="native-banner"></div>
</div><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYI5K3Y&placement=thecodebarbariancom" id="_carbonads_js"></script><div class="post-body-text-container"><p>I find the existence of tools like <a href="https://github.com/creationix/nvm/blob/master/README.markdown">nvm</a> baffling. I could understand if setting up Node.js required an actual installer or compiler or python, but <a href="http://nodejs.org/download">node has pre-built binaries for most operating systems</a>. Node and npm are both portable standalone executables, so all you need is the right binary for your OS in the right place on your file system. Especially if you&#39;re switching back and forth between Node 6.x and 7.6.0 for <a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js.html">async/await</a>, you should simplify your node version management workflow rather than using yet another bloated tool.</p>
<h2 id="using-symlinks">Using Symlinks</h2>
<p><a href="https://en.wikipedia.org/wiki/Symbolic_link">Symlinks</a> are a handy tool in most unix-like operating systems, like Linux or OSX. The <code>ln</code> command lets you create a new symlink:</p>
<pre><code># Now `./baz` is a symlink to /foo/bar
# If `/foo/bar` is an executable, you can run it with `./baz`
ln -s /foo/bar baz</code></pre><p>To download and &quot;install&quot; node v7.6.0 and the corresponding npm version 4.1.2, first you need to download and untar it:</p>
<pre><code>wget https://nodejs.org/download/release/v7.6.0/node-v7.6.0-linux-x64.tar.gz
tar -zxvf node-v7.6.0-linux-x64.tar.gz</code></pre><p>And then you need to symlink <code>node</code> and <code>npm</code> into a folder that&#39;s on your PATH. I like <code>/usr/bin</code> for Linux. I used <code>/usr/local/bin</code> for OSX but I haven&#39;t used OSX regularly in many years, so OSX is <a href="http://uncyclopedia.wikia.com/wiki/Proof#Proof_by_Delegation">left as an exercise to the reader</a>.</p>
<pre><code>ln -s `pwd`/node-v7.6.0-linux-x64/bin/node /usr/bin/node
ln -s `pwd`/node-v7.6.0-linux-x64/bin/npm /usr/bin/npm</code></pre><p>Want to switch back to node v6.9.1?</p>
<pre><code>rm /usr/bin/node
rm /usr/bin/npm
ln -s `pwd`/node-v6.9.1-linux-x64/bin/node /usr/bin/node
ln -s `pwd`/node-v6.9.1-linux-x64/bin/npm /usr/bin/npm</code></pre><h2 id="what-happens-with-the--g-flag">What Happens With The -g Flag?</h2>
<p>It&#39;s no secret that I <a href="http://thecodebarbarian.com/2015/02/27/npm-install--g">think <code>npm install -g</code> is a blight on society</a>. One great feature of this version management paradigm is that <code>npm install -g</code> no longer works by default.</p>
<pre><code>$ npm install gulp -g
/home/val/Workspace/node-v7.6.0-linux-x64/bin/gulp -&gt; /home/val/Workspace/node-v7.6.0-linux-x64/lib/node_modules/gulp/bin/gulp.js
/home/val/Workspace/node-v7.6.0-linux-x64/lib
$ gulp
gulp: command not found
$</code></pre><p>If you need <code>npm install -g</code> for some reason, don&#39;t worry, you can make it work. Everything you <code>npm install -g</code> ends up in the <code>node-v7.6.0-linux-x64/bin/</code> directory, so you can either add that directory to your PATH, or symlink the individual executables.</p>
<pre><code>$ ln -s `pwd`/node-v7.6.0-linux-x64/bin/gulp /usr/bin/gulp
$ gulp -v
[17:03:53] CLI version 3.9.1
$</code></pre><p>Note also that your executables are all stored underneath the <code>node-v7.6.0-linux-x64</code> directory. This means that removing old versions of node is as simple as deleting the whole directory. This will even clean up modules installed with <code>-g</code>.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This is the paradigm I&#39;ve used to manage node versions since early 2015. I&#39;m sure this approach has limitations, but I&#39;ve found it to be the simplest and cleanest approach to node version management. Unless you find yourself forgetting the order of parameters to <code>ln -s</code>, you don&#39;t need any docs or APIs or README&#39;s, just solid Linux/OSX fundamentals. Give it a shot next time you need to install a new version of node!</p>
<p><em>I believe in doing things the easy way, and probably the easiest way to make yourself a better engineer is to get better sleep. Unfortunately, LEDs, screens, streetlights, and car headlights weren&#39;t designed with your sleep quality in mind. I&#39;ve used <a href="https://www.amazon.com/gp/product/B000USRG90/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B000USRG90&amp;linkCode=as2&amp;tag=codebarbarian-20&amp;linkId=f4937c5f736d3c567902dcaa59afa0f7">these blue-light-blocking glasses</a> (<a href="https://www.amazon.com/Uvex-Blocking-Computer-Glasses-SCT-Orange/dp/B000USRG90/">non-affiliate link</a>) for late night coding since 2014. They help me wind down at night even if I&#39;m still staring at a <a href="https://justgetflux.com/">flux-less</a> screen at midnight.</em></p>
</div><div style="color: #666666; border-top: 1px dashed #666666; margin: 25px; text-align: center; padding-top: 10px"><em>Found a typo or error? Open up a pull request! This post is
available as markdown on&nbsp;<a href="https://github.com/vkarpov15/thecodebarbarian.com/blob/master/lib/posts/#{post.src.substr('./lib/posts/'.length)}">Github</a></em></div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'codebarbarian'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></div></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var xhr = new XMLHttpRequest();
xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {};
xhr.send(JSON.stringify({
  path: window.location.pathname,
  hostname: window.location.hostname
}));</script><link rel="stylesheet" href="/style/inlinecpc.css"></body></html>